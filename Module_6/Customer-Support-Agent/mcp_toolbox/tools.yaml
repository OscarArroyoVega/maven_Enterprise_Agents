sources:
  # Connection details for your Docker Postgres container
  customer_db:
    kind: postgres
    host: 127.0.0.1       # Localhost because Docker maps port 5432 to host
    port: 5432
    database: toolbox_db  # Ensure this matches your actual DB name
    user: toolbox_user    # Ensure this matches your actual User
    password: mysecretpassword # Ensure this matches your actual Password

tools:
  # Tool 1: Get Specific Order Details
  get-order-status:
    kind: postgres-sql
    source: customer_db
    description: >-
      Retrieves the full details (status, items, date, total) for a specific Order ID.
      Use this when the user provides a specific order number (e.g., "Check order #5").
    parameters:
      - name: order_id
        type: integer
        description: The numeric order identifier (e.g., 1, 15, 20).
    statement: >-
      SELECT status, order_date, total_amount, items 
      FROM customer_orders 
      WHERE order_id = $1;

  # Tool 2: Search Orders by Customer Email
  find-customer-orders:
    kind: postgres-sql
    source: customer_db
    description: >-
      Finds the order history for a specific customer using their email address.
      Use this when a user asks "What orders do I have?" or searches by email.
    parameters:
      - name: customer_email
        type: string
        description: The customer's email address (e.g., alice.jones@example.com).
    statement: >-
      SELECT order_id, status, order_date, total_amount, items 
      FROM customer_orders 
      WHERE customer_email = $1 
      ORDER BY order_date DESC;

toolsets:
  # Group tools into a set your agent can load
  cs_agent_tools:
    - get-order-status
    - find-customer-orders
